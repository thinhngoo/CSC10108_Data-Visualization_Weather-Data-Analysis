<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Weather Data Visualization{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons8-partly-cloudy-day-color-glass-16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons8-partly-cloudy-day-color-glass-32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons8-partly-cloudy-day-color-glass-96.png" />

    <!-- D3 v6+ -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <link rel="stylesheet" href="/styles/style.css" />
  </head>
  <body>
    <div class="app-layout">
      <!-- Sidebar overlay (mobile) -->
      <div id="sidebar-overlay" class="sidebar-overlay" aria-hidden="true"></div>

      <!-- Sidebar -->
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
          <h3 class="sidebar-brand">Weather Analysis</h3>
          <button id="toggle-sidebar" class="sidebar-toggle" aria-label="Toggle sidebar">
            <svg class="sidebar-toggle-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="18" height="18" x="3" y="3" rx="2" />
              <path d="M9 3v18" />
            </svg>
          </button>
        </div>
        <nav class="sidebar-nav">
          <a href="/" class="sidebar-link {% if active_route == 'home' %}active{% endif %}" data-route="home">
            <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect width="7" height="7" x="3" y="3" rx="1" />
              <rect width="7" height="7" x="14" y="3" rx="1" />
              <rect width="7" height="7" x="14" y="14" rx="1" />
              <rect width="7" height="7" x="3" y="14" rx="1" />
            </svg>
            <span class="sidebar-link-text">Home</span>
          </a>
          <a href="/dataset/raw/" class="sidebar-link {% if active_route == 'dataset-raw' %}active{% endif %}" data-route="dataset-raw">
            <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z" />
              <path d="M14 2v4a2 2 0 0 0 2 2h4" />
              <path d="M10 9H8" />
              <path d="M16 13H8" />
              <path d="M16 17H8" />
              <path d="M10 13H8" />
            </svg>
            <span class="sidebar-link-text">Raw</span>
          </a>
          <a href="/dataset/cleaning/" class="sidebar-link {% if active_route == 'dataset-cleaning' %}active{% endif %}" data-route="dataset-cleaning">
            <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z" />
              <path d="m9 12 2 2 4-4" />
            </svg>
            <span class="sidebar-link-text">Cleaning</span>
          </a>
        </nav>
      </aside>
      <script>
        (function () {
          if (window.innerWidth >= 1024 && localStorage.getItem("sidebar-collapsed") === "true") {
            document.getElementById("sidebar").classList.add("collapsed");
          }
        })();
      </script>

      <!-- Main area -->
      <div class="main-area">
        <!-- Top navbar -->
        <nav class="top-navbar">
          <div class="navbar-inner">
            <button id="navbar-menu-btn" class="navbar-menu-btn" aria-label="Toggle menu">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="4" x2="20" y1="12" y2="12" />
                <line x1="4" x2="20" y1="6" y2="6" />
                <line x1="4" x2="20" y1="18" y2="18" />
              </svg>
            </button>
            <form class="navbar-search" onsubmit="return false;">
              <svg class="navbar-search-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8" />
                <path d="m21 21-4.3-4.3" />
              </svg>
              <input type="search" placeholder="Search..." class="navbar-search-input" />
            </form>
          </div>
        </nav>

        <main id="app" class="main-content">
          {% block content %}{% endblock %}
        </main>
      </div>
    </div>

    <script type="module" src="/scripts/main.js"></script>
  </body>
</html>
